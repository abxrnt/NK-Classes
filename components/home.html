<!-- =======================
 FULL-BLEED HERO CAROUSEL
======================== -->
<section id="hero-carousel" class="w-full">
  <div class="relative w-full overflow-hidden">

    <!-- VIEWPORT (full width, no padding, no margin) -->
    <div id="carousel-viewport" class="overflow-hidden w-full">
      <div id="carousel-track" class="flex transition-transform duration-700 ease-out">

        <!-- Slide 1 -->
        <div class="slide flex-shrink-0" style="flex:0 0 100%;">
          <img src="components/1.jpg"
            class="w-full h-[360px] md:h-[460px] object-cover object-center block" />
        </div>

        <!-- Slide 2 -->
        <div class="slide flex-shrink-0" style="flex:0 0 100%;">
          <img src="components/2.jpg"
            class="w-full h-[360px] md:h-[460px] object-cover object-center block" />
        </div>

        <!-- Slide 3 (duplicate or remove if not needed) -->
        <div class="slide flex-shrink-0" style="flex:0 0 100%;">
          <img src="components/1.jpg"
            class="w-full h-[360px] md:h-[460px] object-cover object-center block" />
        </div>

      </div>
    </div>

    <!-- Prev Button -->
    <button id="carousel-prev"
      class="absolute left-3 top-1/2 -translate-y-1/2 z-30 bg-white/90 hover:bg-white rounded-full p-2 shadow-md">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-black"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M15 19l-7-7 7-7" />
      </svg>
    </button>

    <!-- Next Button -->
    <button id="carousel-next"
      class="absolute right-3 top-1/2 -translate-y-1/2 z-30 bg-white/90 hover:bg-white rounded-full p-2 shadow-md">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-black"
        fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M9 5l7 7-7 7" />
      </svg>
    </button>

    <!-- Dots -->
    <div id="carousel-dots"
      class="absolute bottom-4 left-0 right-0 flex justify-center gap-3 z-40">
    </div>

  </div>
</section>

<!-- =======================
 CAROUSEL SCRIPT
======================== -->
<script>
(function () {
  const track = document.getElementById("carousel-track");
  const dotsWrap = document.getElementById("carousel-dots");
  const slides = Array.from(track.querySelectorAll(".slide"));
  if (!slides.length) return;

  function refreshSlideSizes() {
    slides.forEach(s => {
      s.style.width = window.innerWidth + "px";
    });
  }

  refreshSlideSizes();
  window.addEventListener("resize", refreshSlideSizes);

  let activeIndex = 0;

  // Create dots
  slides.forEach((_, i) => {
    const btn = document.createElement("button");
    btn.className = "w-3 h-3 rounded-full bg-white/70 border border-white/30";
    btn.addEventListener("click", () => { goTo(i); resetTimer(); });
    dotsWrap.appendChild(btn);
  });

  const dots = Array.from(dotsWrap.children);

  function updateDots() {
    dots.forEach((d, idx) => {
      d.style.opacity = idx === activeIndex ? "1" : "0.4";
      d.style.transform = idx === activeIndex ? "scale(1.2)" : "scale(1)";
    });
  }

  function goTo(i) {
    activeIndex = (i + slides.length) % slides.length;
    const offset = window.innerWidth * activeIndex;
    track.style.transform = `translateX(-${offset}px)`;
    updateDots();
  }

  document.getElementById("carousel-next")
    .addEventListener("click", () => { goTo(activeIndex + 1); resetTimer(); });

  document.getElementById("carousel-prev")
    .addEventListener("click", () => { goTo(activeIndex - 1); resetTimer(); });

  let timer = null;
  function startTimer() {
    timer = setInterval(() => { goTo(activeIndex + 1); }, 4500);
  }
  function resetTimer() {
    clearInterval(timer);
    startTimer();
  }

  startTimer();

  setTimeout(() => { refreshSlideSizes(); goTo(0); }, 80);
})();
</script>
