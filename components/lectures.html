<!-- ================= LECTURES PAGE COMPONENT ================= -->
<section id="lectures-page" class="hidden fade-in">

  <div class="max-w-6xl mx-auto px-4 py-6">

    <!-- TITLE -->
    <h1 class="text-3xl font-bold mb-4">ðŸŽ¥ Lectures Dashboard</h1>
    <p class="text-gray-600 mb-6">Browse playlists, view notes, filter by subject, difficulty & more.</p>

    <!-- FILTER BAR -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-6">

      <!-- Search -->
      <input id="lectureSearch" 
             type="text"
             placeholder="Search topics, playlists, tags..."
             class="border px-3 py-2 rounded-lg w-full shadow-sm focus:ring-2 focus:ring-blue-400" />

      <!-- Subject Filter -->
      <select id="filterSubject"
              class="border px-3 py-2 rounded-lg w-full shadow-sm focus:ring-2 focus:ring-blue-400">
        <option value="All">All Subjects</option>
        <option value="Physics">Physics</option>
        <option value="Chemistry">Chemistry</option>
        <option value="Maths">Maths</option>
      </select>

      <!-- Difficulty Filter -->
      <select id="filterDifficulty"
              class="border px-3 py-2 rounded-lg w-full shadow-sm focus:ring-2 focus:ring-blue-400">
        <option value="All">All Difficulty</option>
        <option value="Easy">Easy</option>
        <option value="Medium">Medium</option>
        <option value="Hard">Hard</option>
      </select>
    </div>

    <!-- LECTURES GRID -->
    <div id="lectureGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

      <!-- Cards will be injected by JS -->

    </div>
  </div>

  <!-- PREVIEW MODAL -->
  <div id="lectureModal"
       class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
    <div class="bg-white rounded-xl w-full max-w-3xl shadow-xl p-4 relative">
      
      <button onclick="closeLectureModal()"
              class="absolute top-2 right-3 text-gray-700 hover:text-red-500 text-xl font-bold">
        âœ•
      </button>

      <h2 id="modalTitle" class="text-xl font-bold mb-3"></h2>

      <iframe id="modalVideo"
              class="w-full h-64 md:h-80 rounded-lg"
              allowfullscreen></iframe>

      <a id="modalPDF"
         target="_blank"
         class="mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
        ðŸ“„ Download Notes
      </a>
    </div>
  </div>

</section>

<!-- ================= LECTURES PAGE SCRIPT ================= -->
<script>
  // Lecture Data
  const lectures = [
    {
      id: "l1",
      title: "Electrochemistry â€“ Full Playlist",
      subject: "Chemistry",
      topic: "Electrochemistry",
      difficulty: "Medium",
      playlist: "https://www.youtube.com/embed/videoseries?list=PLFAKEPLAYLIST1",
      notes: "notes/electrochemistry.pdf",
      thumb: "https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg",
      tags: ["Boards", "JEE", "MCQ"]
    },
    {
      id: "l2",
      title: "Kinematics Crash Course",
      subject: "Physics",
      topic: "Kinematics",
      difficulty: "Easy",
      playlist: "https://www.youtube.com/embed/videoseries?list=PLFAKEPLAYLIST2",
      notes: "notes/kinematics.pdf",
      thumb: "https://img.youtube.com/vi/oHg5SJYRHA0/hqdefault.jpg",
      tags: ["Concepts", "PYQ"]
    },
    {
      id: "l3",
      title: "Integral Calculus â€“ Important Playlist",
      subject: "Maths",
      topic: "Calculus",
      difficulty: "Hard",
      playlist: "https://www.youtube.com/embed/videoseries?list=PLFAKEPLAYLIST3",
      notes: "notes/integral_calculus.pdf",
      thumb: "https://img.youtube.com/vi/3JZ_D3ELwOQ/hqdefault.jpg",
      tags: ["Advanced", "JEE Mains"]
    }
  ];

  const grid = document.getElementById("lectureGrid");
  const searchBox = document.getElementById("lectureSearch");
  const filterSubject = document.getElementById("filterSubject");
  const filterDifficulty = document.getElementById("filterDifficulty");

  // Render Lecture Cards
  function renderLectures() {
    const q = searchBox.value.toLowerCase();
    const s = filterSubject.value;
    const d = filterDifficulty.value;

    grid.innerHTML = "";

    lectures
      .filter(l =>
        (l.title.toLowerCase().includes(q) ||
         l.topic.toLowerCase().includes(q) ||
         l.tags.join(" ").toLowerCase().includes(q)) &&
        (s === "All" || l.subject === s) &&
        (d === "All" || l.difficulty === d)
      )
      .forEach(l => {
        grid.innerHTML += `
        <div class="card cursor-pointer hover:shadow-xl transition border rounded-xl overflow-hidden"
             onclick="openLectureModal('${l.id}')">

          <img src="${l.thumb}" class="w-full h-40 object-cover" />

          <div class="p-4">
            <h3 class="text-lg font-bold mb-1">${l.title}</h3>
            <p class="text-sm text-gray-600">${l.subject} â€¢ ${l.topic}</p>
            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded mt-2 inline-block">
              ${l.difficulty}
            </span>
          </div>
        </div>
        `;
      });
  }

  // Modal Controls
  function openLectureModal(id) {
    const lecture = lectures.find(l => l.id === id);

    document.getElementById("modalTitle").innerText = lecture.title;
    document.getElementById("modalVideo").src = lecture.playlist;
    document.getElementById("modalPDF").href = lecture.notes;

    document.getElementById("lectureModal").classList.remove("hidden");
  }

  function closeLectureModal() {
    document.getElementById("lectureModal").classList.add("hidden");
    document.getElementById("modalVideo").src = ""; // stop video
  }

  searchBox.addEventListener("input", renderLectures);
  filterSubject.addEventListener("change", renderLectures);
  filterDifficulty.addEventListener("change", renderLectures);

  // Initial Render
  renderLectures();
</script>
